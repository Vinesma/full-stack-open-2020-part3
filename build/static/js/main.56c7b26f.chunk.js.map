{"version":3,"sources":["components/Search.js","components/Form.js","components/List.js","components/MessageBox.js","components/ErrorBox.js","services/BackendServices.js","App.js","index.js"],"names":["Search","value","changeFunction","type","onChange","Form","props","submitFunction","nameChangeFunction","numberChangeFunction","newNumber","newName","onSubmit","List","persons","deleteFunction","map","person","name","number","onClick","id","MessageBox","message","className","ErrorBox","baseUrl","services","fetchAll","axios","get","then","response","data","create","newItem","post","update","put","remove","delete","App","useState","setPersons","setNewName","setNewNumber","filter","setFilter","setMessage","errorMessage","setErrorMessage","filteredList","searchFor","toLowerCase","includes","useEffect","BackendService","personsInitialState","catch","error","setTimeout","event","target","preventDefault","window","confirm","find","item","newPerson","newPersonItem","newPersonResponse","concat","personToDelete","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56c7b26f.chunk.js","sourcesContent":["import React from 'react';\n\nconst Search = ({ value, changeFunction }) => {\n    return (\n        <div>\n            <input\n                type=\"text\"\n                value={value}\n                onChange={changeFunction}\n            />\n        </div>\n    )\n}\n\nexport default Search;\n","import React from 'react';\n\nconst Form = props => {\n    const submitFunction = props.submitFunction;\n    const nameChangeFunction = props.nameChangeFunction;\n    const numberChangeFunction = props.numberChangeFunction;\n    const newNumber = props.newNumber;\n    const newName = props.newName;\n\n    return (\n        <form onSubmit={submitFunction}>\n            <div>\n                Name: <input type=\"text\" value={newName} onChange={nameChangeFunction}/>\n            </div>\n            <div>\n                Number: <input type=\"tel\" value={newNumber} onChange={numberChangeFunction}/>\n            </div>\n            <div>\n                <button type=\"submit\">Add</button>\n            </div>\n        </form>\n    )\n};\n\nexport default Form;\n","import React from 'react';\n\nconst List = ({ persons, deleteFunction }) => {\n    return (\n        <>\n            {persons.map(person => {\n                return (\n                    <div key={person.id}>\n                        <p>{person.name} {person.number}</p>\n                        <button onClick={() => deleteFunction(person.id)}>Remove</button>\n                    </div>\n                )\n            })}\n        </>\n    )\n};\n\nexport default List;\n","import React from 'react';\n\nconst MessageBox = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"messageBox\">\n            <p>{message}</p>\n        </div>\n    )\n}\n\nexport default MessageBox;\n","import React from 'react';\n\nconst ErrorBox = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"errorBox\">\n            <p>{message}</p>\n        </div>\n    )\n}\n\nexport default ErrorBox;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons';\n\nconst fetchAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = newItem => {\n    const request = axios.post(baseUrl, newItem);\n    return request.then(response => response.data);\n};\n\nconst update = (id, newItem) => {\n    const request = axios.put(`${baseUrl}/${id}`, newItem);\n    return request.then(response => response.data);\n};\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n};\n\nconst services = { fetchAll, create, update, remove };\n\nexport default services;\n","import React, { useState, useEffect } from 'react';\nimport Search from './components/Search';\nimport Form from './components/Form';\nimport List from './components/List';\nimport MessageBox from './components/MessageBox';\nimport ErrorBox from './components/ErrorBox';\nimport BackendService from './services/BackendServices';\nimport './index.css';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filter, setFilter] = useState('');\n    const [message, setMessage] = useState(null);\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const filteredList = persons.filter(person => {\n        const searchFor = filter.toLowerCase()\n        return person.name.toLowerCase().includes(searchFor);\n    });\n\n    const handleFilterChange = event => {\n        setFilter(event.target.value);\n    };\n\n    const handleNameChange = event => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = event => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleSubmit = event => {\n        event.preventDefault();\n\n        if (persons.map(person => person.name).includes(newName)) {\n            if (window.confirm(`${newName} is already in the Phonebook, replace the old number with the new one?`)) {\n                const person = persons.find(item => item.name === newName);\n                const id = person.id;\n                const newPerson = {\n                    ...person,\n                    number: newNumber,\n                };\n\n                BackendService\n                    .update(id, newPerson)\n                    .then(newPersonItem => {\n                        setPersons(persons.map(person => person.id !== newPerson.id ? person : newPersonItem));\n                        setNewName('');\n                        setNewNumber('');\n\n                        setMessage(`${person.name}'s entry has been updated!`);\n                        setTimeout(() => {\n                            setMessage(null);\n                        }, 5000);\n                    })\n                    .catch(error => {\n                        setNewName('');\n                        setNewNumber('');\n                        setErrorMessage(error.response.data.error);\n                        setTimeout(() => {\n                            setErrorMessage(null);\n                        }, 6000);\n                    });\n            }\n        } else {\n            const newPerson = {\n                name: newName,\n                number: newNumber,\n            };\n\n            BackendService\n                .create(newPerson)\n                .then(newPersonResponse => {\n                    setPersons(persons.concat(newPersonResponse));\n                    setNewName('');\n                    setNewNumber('');\n\n                    setMessage(`${newPerson.name} added successfully!`);\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 5000);\n                })\n                .catch(error => {\n                    setErrorMessage(error.response.data.error);\n\n                    setTimeout(() => {\n                        setErrorMessage(null);\n                    }, 6000);\n                });\n        }\n    };\n\n    const handleDelete = id => {\n        const personToDelete = persons.find(person => person.id === id);\n        if (window.confirm(`Remove ${personToDelete.name}?`)) {\n            BackendService.remove(id)\n                .then(() => {\n                    setPersons(persons.filter(person => person.id !== id));\n                })\n                .catch(error => {\n                    alert(`[${error}] returned from the server.`);\n                });\n        }\n    };\n\n    useEffect(() => {\n        BackendService.fetchAll()\n            .then(personsInitialState => {\n                setPersons(personsInitialState);\n            })\n            .catch(error => {\n                setErrorMessage(`${error} returned from server.`);\n                setTimeout(() => {\n                    setErrorMessage(null);\n                }, 6000);\n            });\n    }, []);\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <MessageBox message={message} />\n            <ErrorBox message={errorMessage} />\n            <Search value={filter} changeFunction={handleFilterChange}/>\n            <h3>Add a new person</h3>\n            <Form\n                submitFunction={handleSubmit}\n                nameChangeFunction={handleNameChange}\n                numberChangeFunction={handleNumberChange}\n                newName={newName}\n                newNumber={newNumber}\n            />\n            <h2>Numbers</h2>\n            <List persons={filteredList} deleteFunction={handleDelete}/>\n        </div>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}