{"version":3,"sources":["components/Search.js","components/Form.js","components/List.js","components/MessageBox.js","components/ErrorBox.js","services/BackendServices.js","App.js","index.js"],"names":["Search","value","changeFunction","type","onChange","Form","props","submitFunction","nameChangeFunction","numberChangeFunction","newNumber","newName","onSubmit","List","persons","deleteFunction","map","person","name","number","onClick","id","MessageBox","message","className","ErrorBox","baseUrl","axios","get","then","response","data","newItem","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","filter","setFilter","setMessage","errorMessage","setErrorMessage","filteredList","searchFor","toLowerCase","includes","useEffect","BackendService","personsInitialState","catch","error","setTimeout","event","target","preventDefault","window","confirm","find","item","newPerson","newPersonItem","newPersonResponse","concat","alert","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2771bc3.chunk.js","sourcesContent":["import React from 'react';\n\nconst Search = ({ value, changeFunction }) => {\n    return (\n        <div>\n            <input\n                type=\"text\"\n                value={value}\n                onChange={changeFunction}\n            />\n        </div>\n    )\n}\n\nexport default Search;\n","import React from 'react';\n\nconst Form = props => {\n    const submitFunction = props.submitFunction;\n    const nameChangeFunction = props.nameChangeFunction;\n    const numberChangeFunction = props.numberChangeFunction;\n    const newNumber = props.newNumber;\n    const newName = props.newName;\n\n    return (\n        <form onSubmit={submitFunction}>\n            <div>\n                Name: <input type=\"text\" value={newName} onChange={nameChangeFunction}/>\n            </div>\n            <div>\n                Number: <input type=\"tel\" value={newNumber} onChange={numberChangeFunction}/>\n            </div>\n            <div>\n                <button type=\"submit\">Add</button>\n            </div>\n        </form>\n    )\n};\n\nexport default Form;\n","import React from 'react';\n\nconst List = ({ persons, deleteFunction }) => {\n    return (\n        <>\n            {persons.map(person => {\n                return (\n                    <div key={person.id}>\n                        <p>{person.name} {person.number}</p>\n                        <button onClick={() => deleteFunction(person.id)}>Remove</button>\n                    </div>\n                )\n            })}\n        </>\n    )\n};\n\nexport default List;\n","import React from 'react';\n\nconst MessageBox = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"messageBox\">\n            <p>{message}</p>\n        </div>\n    )\n}\n\nexport default MessageBox;\n","import React from 'react';\n\nconst ErrorBox = ({ message }) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className=\"errorBox\">\n            <p>{message}</p>\n        </div>\n    )\n}\n\nexport default ErrorBox;\n","import axios from 'axios';\n\nconst baseUrl = '/api/persons'\n\nconst fetchAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = newItem => {\n    const request = axios.post(baseUrl, newItem);\n    return request.then(response => response.data);\n};\n\nconst update = (id, newItem) => {\n    const request = axios.put(`${baseUrl}/${id}`, newItem);\n    return request.then(response => response.data);\n};\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then(response => response.data);\n};\n\nexport default { fetchAll, create, update, remove };\n","import React, { useState, useEffect } from 'react';\nimport Search from './components/Search';\nimport Form from './components/Form';\nimport List from './components/List';\nimport MessageBox from './components/MessageBox';\nimport ErrorBox from './components/ErrorBox';\nimport BackendService from './services/BackendServices';\nimport './index.css';\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState('');\n    const [newNumber, setNewNumber] = useState('');\n    const [filter, setFilter] = useState('');\n    const [message, setMessage] = useState(null);\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    const filteredList = persons.filter(person => {\n        const searchFor = filter.toLowerCase()\n        return person.name.toLowerCase().includes(searchFor);\n    });\n\n    const handleFilterChange = event => {\n        setFilter(event.target.value);\n    };\n\n    const handleNameChange = event => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = event => {\n        setNewNumber(event.target.value);\n    };\n\n    const handleSubmit = event => {\n        event.preventDefault();\n\n        if (persons.map(person => person.name).includes(newName)) {\n            if (window.confirm(`${newName} is already in the Phonebook, replace the old number with the new one?`)) {\n                const person = persons.find(item => item.name === newName);\n                const id = person.id;\n                const newPerson = {\n                    ...person,\n                    number: newNumber,\n                };\n\n                BackendService.update(id, newPerson)\n                    .then(newPersonItem => {\n                        setPersons(persons.map(person => person.id !== newPerson.id ? person : newPersonItem));\n\n                        setMessage(`${person.name}'s entry has been updated!`);\n                        setTimeout(() => {\n                            setMessage(null);\n                        }, 5000);\n                    })\n                    .catch(() => {\n                        setNewName('');\n                        setNewNumber('');\n                        setPersons(persons.filter(person => person.id !== id));\n                        setErrorMessage(`${person.name} has already been deleted!`);\n                        setTimeout(() => {\n                            setErrorMessage(null);\n                        }, 6000);\n                    });\n            }\n        } else {\n            const newPerson = {\n                name: newName,\n                number: newNumber,\n            };\n\n            BackendService.create(newPerson)\n                .then(newPersonResponse => {\n                    setPersons(persons.concat(newPersonResponse));\n                    setNewName('');\n                    setNewNumber('');\n\n                    setMessage(`${newPerson.name} added successfully!`);\n                    setTimeout(() => {\n                        setMessage(null);\n                    }, 5000);\n                })\n                .catch(error => {\n                    alert(`[${error}] returned from the server.`);\n                });\n        }\n    };\n\n    const handleDelete = id => {\n        const personToDelete = persons.find(person => person.id === id);\n        if (window.confirm(`Remove ${personToDelete.name}?`)) {\n            BackendService.remove(id)\n                .then(() => {\n                    setPersons(persons.filter(person => person.id !== id));\n                })\n                .catch(error => {\n                    alert(`[${error}] returned from the server.`);\n                });\n        }\n    };\n\n    useEffect(() => {\n        BackendService.fetchAll()\n            .then(personsInitialState => {\n                setPersons(personsInitialState);\n            })\n            .catch(error => {\n                setErrorMessage(`${error} returned from server.`);\n                setTimeout(() => {\n                    setErrorMessage(null);\n                }, 6000);\n            });\n    }, []);\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <MessageBox message={message} />\n            <ErrorBox message={errorMessage} />\n            <Search value={filter} changeFunction={handleFilterChange}/>\n            <h3>Add a new person</h3>\n            <Form\n                submitFunction={handleSubmit}\n                nameChangeFunction={handleNameChange}\n                numberChangeFunction={handleNumberChange}\n                newName={newName}\n                newNumber={newNumber}\n            />\n            <h2>Numbers</h2>\n            <List persons={filteredList} deleteFunction={handleDelete}/>\n        </div>\n    )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}